<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Docs - Write Documents Easily</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
  </head>
  <body>
    <div class="nav">
      <h2>MyTextEdit</h2>
    </div>


    <div class="topbar">
      <button title="New Document"><i class="far fa-file-word"></i></button>

      <button onclick="ibold()" title="Bold">
        <i class="fas fa-bold"></i>
      </button>

      <button onclick="iitalic()" title="Italic">
        <i class="fas fa-italic"></i>
      </button>

      <button onclick="iunderline()" title="Underline">
        <i class="fas fa-underline"></i>
      </button>

      <button onclick="iright()" title="Align Right">
        <i class="fas fa-align-right"></i>
      </button>

      <button onclick="icenter()" title="Align Center">
        <i class="fas fa-align-center"></i>
      </button>

      <button onclick="ileft()" title="Align Left">
        <i class="fas fa-align-left"></i>
      </button>

      <button onclick="ilink()" title="Add Link">
        <i class="fas fa-link"></i>
      </button>

      <button onclick="iunlink()" title="Unlink">
        <i class="fas fa-unlink"></i>
      </button>

      <button onclick="copy()" id="copy" title="Copy">
        <i class="far fa-copy"></i>
      </button>

      <button onclick="paste()" title="Paste">
        <i class="far fa-paste"></i>
      </button>

      <button onclick="icut()" title="Cut"><i class="fas fa-cut"></i></button>

      <button onclick="icolor()" title="Font Color">
        <input type="color" id="color-btn" />
      </button>

      <button onclick="ifont()" title="Font Size">
        <i class="fas fa-font"></i>
      </button>

      <button onclick="ifontnm()" title="Font Family">
        <i class="fas fa-heading"></i>
      </button>

      <button title="Save" onclick="save()"><i class="far fa-save"></i></button>
      <button title="Save As PDF" onclick="ipdf()"><i class="far fa-file-pdf"></i></button>
    </div>

    <!-- Creating A DIV That We Can Edit -->
    <div class="container">
      <div
        class="edit-me"
        contenteditable="true"
        spellcheck="false"
        id="content"
      ></div>
    </div>

    <script>
      // Javascript To Bold The Selected Texts
      const colorBtn = document.getElementById("color-btn");
      const copy = document.getElementById("copy");
      const pst = document.getElementById("pst");
      const content = document.getElementById("content");
      function ibold() {
        document.execCommand("bold", false, null);
      }

      function iitalic() {
        document.execCommand("italic", false, null);
      }

      function iunderline() {
        document.execCommand("underline", false, null);
      }

      function icenter() {
        document.execCommand("justifyCenter", false, null);
      }

      function iright() {
        document.execCommand("justifyRight", false, null);
      }

      function ileft() {
        document.execCommand("justifyFull", false, null);
      }

      function ilink() {
        var linkURL = prompt("Enter the URL for this link:", "http://");
        document.execCommand("CreateLink", false, linkURL);
      }

      function iunlink() {
        document.execCommand("Unlink", false, null);
      }

      function icut() {
        document.execCommand("cut", false, null);
      }

      colorBtn.addEventListener("input", () => {
        document.execCommand("forecolor", false, colorBtn.value);
      });

      copy.addEventListener("click", () => {
        document.execCommand("copy");
      });

      pst.addEventListener("click", () => {
        document.execCommand("paste");
      });

      function ifont() {
        var font = prompt("Enter a Font Size", "");
        document.execCommand("fontSize", false, font);
      }

      function ifontnm() {
        var fontname = prompt("Enter a Font Name", "");
        document.execCommand("fontName", false, fontname);
      }

      function save() {
        const a = document.createElement("a");
        const blob = new Blob([content.innerText]);
        const dataUrl = URL.createObjectURL(blob);
        a.href = dataUrl;
        a.download = "My Text Edit Document.txt";
        a.click();
      }

      function ipdf() {
        html2pdf().from(content).save("My Text Edit Document");
      }
    </script>

    <script src="htmltopdf.js"></script>
  </body>
</html>
